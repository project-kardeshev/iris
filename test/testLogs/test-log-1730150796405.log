2024-10-28T21:26:36.431Z - Testing getDeployedChannels...
2024-10-28T21:26:36.840Z - Deployed channels: 0xC2D9298B0ABB0ac3370cF60112188E3Fa7e3Fa37
2024-10-28T21:26:37.005Z - Channel info for 0xba8172DcaB4A44DcE5B7bFc00236188697fe805d: ["0xba8172DcaB4A44DcE5B7bFc00236188697fe805d","TestChannel","A test channel","0xC2D9298B0ABB0ac3370cF60112188E3Fa7e3Fa37"]
2024-10-28T21:26:37.005Z - Testing createChannelContract...
2024-10-28T21:26:37.392Z - Error creating channel: execution reverted: "Channel already exists for this wallet" (action="estimateGas", data="0x08c379a0000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000000264368616e6e656c20616c72656164792065786973747320666f7220746869732077616c6c65740000000000000000000000000000000000000000000000000000", reason="Channel already exists for this wallet", transaction={ "data": "0x83536f05000000000000000000000000000000000000000000000000000000000000006000000000000000000000000000000000000000000000000000000000000000a000000000000000000000000000000000000000000000000000000000000000e0000000000000000000000000000000000000000000000000000000000000000b546573744368616e6e656c000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000e412074657374206368616e6e656c0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000", "from": "0xba8172DcaB4A44DcE5B7bFc00236188697fe805d", "to": "0x501ED304F272A6cFC1138F360D2fA00C3d708945" }, invocation=null, revert={ "args": [ "Channel already exists for this wallet" ], "name": "Error", "signature": "Error(string)" }, code=CALL_EXCEPTION, version=6.13.4)
2024-10-28T21:26:37.393Z - Testing getChannelInfo after createChannelContract...
2024-10-28T21:26:37.793Z - Deployed channels: 0xC2D9298B0ABB0ac3370cF60112188E3Fa7e3Fa37
2024-10-28T21:26:37.963Z - Channel info for 0xC2D9298B0ABB0ac3370cF60112188E3Fa7e3Fa37: ["0xba8172DcaB4A44DcE5B7bFc00236188697fe805d","TestChannel","A test channel","0xC2D9298B0ABB0ac3370cF60112188E3Fa7e3Fa37"]
2024-10-28T21:26:37.964Z - Testing getChannelInfo on channel contract...
2024-10-28T21:26:38.127Z - Channel data: ["0xba8172DcaB4A44DcE5B7bFc00236188697fe805d","TestChannel","A test channel","","0x501ED304F272A6cFC1138F360D2fA00C3d708945",["0x2ED2bdAd0d8667718e80043C36B7767c0f90c658","0x79b9f0095e6B5B599b70b22B43167A4fc208145d","0xc6256538c9dAc7568eB72D269aCbc724726832a2","0x79adCFA0F9B03135828B6689f148E3bA346d669d","0x365862C0DD468ecd0ed53CfCcAef330f754C794d"]]
2024-10-28T21:26:38.127Z - Testing tip from SECOND_PRIVATE_KEY...
2024-10-28T21:26:38.129Z - Testing withdraw with SECOND_PRIVATE_KEY (should fail)...
2024-10-28T21:26:38.648Z - Expected error withdrawing with second wallet: execution reverted: "Only the channel owner can withdraw funds" (action="estimateGas", data="0x08c379a0000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000000294f6e6c7920746865206368616e6e656c206f776e65722063616e2077697468647261772066756e64730000000000000000000000000000000000000000000000", reason="Only the channel owner can withdraw funds", transaction={ "data": "0x3ccfd60b", "from": "0x6B324A1F65DEcd2aD945BAA84cA75F018Be8Cec3", "to": "0xC2D9298B0ABB0ac3370cF60112188E3Fa7e3Fa37" }, invocation=null, revert={ "args": [ "Only the channel owner can withdraw funds" ], "name": "Error", "signature": "Error(string)" }, code=CALL_EXCEPTION, version=6.13.4)
2024-10-28T21:26:38.649Z - Testing withdraw with PRIVATE_KEY...
2024-10-28T21:26:38.649Z - Withdraw successful.
2024-10-28T21:26:38.649Z - Testing mintVideo with SECOND_PRIVATE_KEY (should fail)...
2024-10-28T21:26:38.993Z - Expected error minting video with second wallet: execution reverted: "Only the channel owner can mint videos" (action="estimateGas", data="0x08c379a0000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000000264f6e6c7920746865206368616e6e656c206f776e65722063616e206d696e7420766964656f730000000000000000000000000000000000000000000000000000", reason="Only the channel owner can mint videos", transaction={ "data": "0x0f1b9ede000000000000000000000000000000000000000000000000000000000000006000000000000000000000000000000000000000000000000000000000000000c00000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000002b516539627432344e4c435048586543527365685031432d4d49505a357575342d6f49774a704358346d664d000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000a5465737420566964656f00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001054657374204465736372697074696f6e00000000000000000000000000000000", "from": "0x6B324A1F65DEcd2aD945BAA84cA75F018Be8Cec3", "to": "0xC2D9298B0ABB0ac3370cF60112188E3Fa7e3Fa37" }, invocation=null, revert={ "args": [ "Only the channel owner can mint videos" ], "name": "Error", "signature": "Error(string)" }, code=CALL_EXCEPTION, version=6.13.4)
2024-10-28T21:26:38.993Z - Testing mintVideo with PRIVATE_KEY...
2024-10-28T21:26:39.156Z - Final channel info with video: ["0xba8172DcaB4A44DcE5B7bFc00236188697fe805d","TestChannel","A test channel","","0x501ED304F272A6cFC1138F360D2fA00C3d708945",["0x2ED2bdAd0d8667718e80043C36B7767c0f90c658","0x79b9f0095e6B5B599b70b22B43167A4fc208145d","0xc6256538c9dAc7568eB72D269aCbc724726832a2","0x79adCFA0F9B03135828B6689f148E3bA346d669d","0x365862C0DD468ecd0ed53CfCcAef330f754C794d"]]
2024-10-28T21:26:39.156Z - Testing getVideo on video contract...
2024-10-28T21:26:44.952Z - Testing like on video contract...
2024-10-28T21:26:45.213Z - error on like: Error: execution reverted: "You have already liked this video" (action="estimateGas", data="0x08c379a000000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000000000000000000000000021596f75206861766520616c7265616479206c696b6564207468697320766964656f00000000000000000000000000000000000000000000000000000000000000", reason="You have already liked this video", transaction={ "data": "0xa523b88a", "from": "0xba8172DcaB4A44DcE5B7bFc00236188697fe805d", "to": "0x365862C0DD468ecd0ed53CfCcAef330f754C794d" }, invocation=null, revert={ "args": [ "You have already liked this video" ], "name": "Error", "signature": "Error(string)" }, code=CALL_EXCEPTION, version=6.13.4)
2024-10-28T21:26:45.496Z - Expected error on second like: execution reverted: "You have already liked this video" (action="estimateGas", data="0x08c379a000000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000000000000000000000000021596f75206861766520616c7265616479206c696b6564207468697320766964656f00000000000000000000000000000000000000000000000000000000000000", reason="You have already liked this video", transaction={ "data": "0xa523b88a", "from": "0xba8172DcaB4A44DcE5B7bFc00236188697fe805d", "to": "0x365862C0DD468ecd0ed53CfCcAef330f754C794d" }, invocation=null, revert={ "args": [ "You have already liked this video" ], "name": "Error", "signature": "Error(string)" }, code=CALL_EXCEPTION, version=6.13.4)
2024-10-28T21:26:45.627Z - Number of likes: 1
2024-10-28T21:26:45.627Z - Testing leaveComment on video contract...
2024-10-28T21:26:46.460Z - Comment added successfully.
2024-10-28T21:26:51.460Z - Testing getComments on video contract...
2024-10-28T21:26:51.931Z - 1730150673,0xba8172DcaB4A44DcE5B7bFc00236188697fe805d,This is a test comment.,1730150807,0xba8172DcaB4A44DcE5B7bFc00236188697fe805d,This is a test comment.
2024-10-28T21:26:51.931Z - error getting comment: TypeError: Do not know how to serialize a BigInt
2024-10-28T21:26:51.931Z - attempting to get video info
2024-10-28T21:26:52.070Z - Test Video,bZRMNrsK5sjwOhDKikGp5L-FBaPJ2vbAgltWaB_pGL0,0x501ED304F272A6cFC1138F360D2fA00C3d708945,Test Description,0xba8172DcaB4A44DcE5B7bFc00236188697fe805d,0x00000000000000000000000000000000672000Fc,10
2024-10-28T21:26:52.070Z - Testing transfer ownership of video contract to SECOND_PRIVATE_KEY...
2024-10-28T21:26:58.778Z - Transfer to SECOND_PRIVATE_KEY successful.
2024-10-28T21:26:58.779Z - attempting to get video info again
2024-10-28T21:26:59.248Z - Test Video,bZRMNrsK5sjwOhDKikGp5L-FBaPJ2vbAgltWaB_pGL0,0x501ED304F272A6cFC1138F360D2fA00C3d708945,Test Description,0xba8172DcaB4A44DcE5B7bFc00236188697fe805d,0x00000000000000000000000000000000672000Fc,10
2024-10-28T21:26:59.248Z - Testing transfer ownership of video contract back to original creator...
2024-10-28T21:27:00.034Z - Transfer back to original creator successful.
