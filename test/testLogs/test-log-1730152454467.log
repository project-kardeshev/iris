2024-10-28T21:54:14.487Z - Testing getDeployedChannels...
2024-10-28T21:54:14.972Z - Deployed channels: 0xAcCbB47d6ceFE30Bc2Ec17966Ce562C5FBb55cb2
2024-10-28T21:54:15.097Z - Channel info for 0xba8172DcaB4A44DcE5B7bFc00236188697fe805d: ["0xba8172DcaB4A44DcE5B7bFc00236188697fe805d","TestChannel","A test channel","0xAcCbB47d6ceFE30Bc2Ec17966Ce562C5FBb55cb2"]
2024-10-28T21:54:15.097Z - Testing createChannelContract...
2024-10-28T21:54:15.575Z - Error creating channel: execution reverted: "Channel already exists for this wallet" (action="estimateGas", data="0x08c379a0000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000000264368616e6e656c20616c72656164792065786973747320666f7220746869732077616c6c65740000000000000000000000000000000000000000000000000000", reason="Channel already exists for this wallet", transaction={ "data": "0x83536f05000000000000000000000000000000000000000000000000000000000000006000000000000000000000000000000000000000000000000000000000000000a000000000000000000000000000000000000000000000000000000000000000e0000000000000000000000000000000000000000000000000000000000000000b546573744368616e6e656c000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000e412074657374206368616e6e656c0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000", "from": "0xba8172DcaB4A44DcE5B7bFc00236188697fe805d", "to": "0xD0F2dEAc2fBc1589aDAefa4E97908560010365E9" }, invocation=null, revert={ "args": [ "Channel already exists for this wallet" ], "name": "Error", "signature": "Error(string)" }, code=CALL_EXCEPTION, version=6.13.4)
2024-10-28T21:54:15.575Z - Testing getChannelInfo after createChannelContract...
2024-10-28T21:54:15.708Z - Deployed channels: 0xAcCbB47d6ceFE30Bc2Ec17966Ce562C5FBb55cb2
2024-10-28T21:54:15.836Z - Channel info for 0xAcCbB47d6ceFE30Bc2Ec17966Ce562C5FBb55cb2: ["0xba8172DcaB4A44DcE5B7bFc00236188697fe805d","TestChannel","A test channel","0xAcCbB47d6ceFE30Bc2Ec17966Ce562C5FBb55cb2"]
2024-10-28T21:54:15.836Z - Testing getChannelInfo on channel contract...
2024-10-28T21:54:15.966Z - Channel data: ["0xba8172DcaB4A44DcE5B7bFc00236188697fe805d","TestChannel","A test channel","","0xD0F2dEAc2fBc1589aDAefa4E97908560010365E9",["0xAbfaD6195A14fa4E32891b4978e56A48a1880f2C","0x550939Df49592eC484594A836708BA6861346F7F","0x4C30a1F832d25a3B1BCA8b8c6414cf70B8c5291C"]]
2024-10-28T21:54:15.966Z - Testing tip from SECOND_PRIVATE_KEY...
2024-10-28T21:54:15.966Z - Testing withdraw with SECOND_PRIVATE_KEY (should fail)...
2024-10-28T21:54:16.217Z - Expected error withdrawing with second wallet: execution reverted: "Only the channel owner can withdraw funds" (action="estimateGas", data="0x08c379a0000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000000294f6e6c7920746865206368616e6e656c206f776e65722063616e2077697468647261772066756e64730000000000000000000000000000000000000000000000", reason="Only the channel owner can withdraw funds", transaction={ "data": "0x3ccfd60b", "from": "0x6B324A1F65DEcd2aD945BAA84cA75F018Be8Cec3", "to": "0xAcCbB47d6ceFE30Bc2Ec17966Ce562C5FBb55cb2" }, invocation=null, revert={ "args": [ "Only the channel owner can withdraw funds" ], "name": "Error", "signature": "Error(string)" }, code=CALL_EXCEPTION, version=6.13.4)
2024-10-28T21:54:16.217Z - Testing withdraw with PRIVATE_KEY...
2024-10-28T21:54:16.217Z - Withdraw successful.
2024-10-28T21:54:16.217Z - Testing mintVideo with SECOND_PRIVATE_KEY (should fail)...
2024-10-28T21:54:16.470Z - Expected error minting video with second wallet: execution reverted: "Only the channel owner can mint videos" (action="estimateGas", data="0x08c379a0000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000000264f6e6c7920746865206368616e6e656c206f776e65722063616e206d696e7420766964656f730000000000000000000000000000000000000000000000000000", reason="Only the channel owner can mint videos", transaction={ "data": "0x0f1b9ede000000000000000000000000000000000000000000000000000000000000006000000000000000000000000000000000000000000000000000000000000000c00000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000002b516539627432344e4c435048586543527365685031432d4d49505a357575342d6f49774a704358346d664d000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000a5465737420566964656f00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001054657374204465736372697074696f6e00000000000000000000000000000000", "from": "0x6B324A1F65DEcd2aD945BAA84cA75F018Be8Cec3", "to": "0xAcCbB47d6ceFE30Bc2Ec17966Ce562C5FBb55cb2" }, invocation=null, revert={ "args": [ "Only the channel owner can mint videos" ], "name": "Error", "signature": "Error(string)" }, code=CALL_EXCEPTION, version=6.13.4)
2024-10-28T21:54:16.470Z - Testing mintVideo with PRIVATE_KEY...
2024-10-28T21:54:21.610Z - Mint video transaction receipt: {"_type":"TransactionReceipt","blockHash":"0x0a6ba9f99181d6236ca5d4c2dd2c138b881007a9f30ddcc6eb0b8340a424b67c","blockNumber":432263,"contractAddress":null,"cumulativeGasUsed":"1890647","from":"0xba8172DcaB4A44DcE5B7bFc00236188697fe805d","gasPrice":"1000000007","blobGasUsed":null,"blobGasPrice":null,"gasUsed":"1890647","hash":"0x014f305a9301e42cf36631016c043144cea97f6b5eece01459d46d7aaeddf72e","index":0,"logs":[{"_type":"log","address":"0xAcCbB47d6ceFE30Bc2Ec17966Ce562C5FBb55cb2","blockHash":"0x0a6ba9f99181d6236ca5d4c2dd2c138b881007a9f30ddcc6eb0b8340a424b67c","blockNumber":432263,"data":"0x000000000000000000000000078c1623e5323cba04b40753e3178a8ab144e563","index":0,"topics":["0xdc3c76afa568d5ddd01cb747eb742676f200e4d5a83c5a2a1b2c3571922ba71d"],"transactionHash":"0x014f305a9301e42cf36631016c043144cea97f6b5eece01459d46d7aaeddf72e","transactionIndex":0}],"logsBloom":"0x00000000000000000000000000000000000000000000000000000000000000000000000800000000000000000000000000020000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000200000000001000000000000000000080000000000000000000000000000000000000000000000000000008000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000","status":1,"to":"0xAcCbB47d6ceFE30Bc2Ec17966Ce562C5FBb55cb2"}
2024-10-28T21:54:27.090Z - Final channel info with video: ["0xba8172DcaB4A44DcE5B7bFc00236188697fe805d","TestChannel","A test channel","","0xD0F2dEAc2fBc1589aDAefa4E97908560010365E9",["0xAbfaD6195A14fa4E32891b4978e56A48a1880f2C","0x550939Df49592eC484594A836708BA6861346F7F","0x4C30a1F832d25a3B1BCA8b8c6414cf70B8c5291C","0x078c1623e5323cBA04B40753e3178A8ab144E563"]]
2024-10-28T21:54:27.090Z - Testing getVideo on video contract...
2024-10-28T21:54:33.285Z - Testing like on video contract...
2024-10-28T21:54:34.914Z - Number of likes: 0
2024-10-28T21:54:34.914Z - Testing leaveComment on video contract...
2024-10-28T21:54:35.911Z - Comment added successfully.
2024-10-28T21:54:40.911Z - Testing getComments on video contract...
2024-10-28T21:54:41.382Z - 1730152477,0xba8172DcaB4A44DcE5B7bFc00236188697fe805d,This is a test comment.
2024-10-28T21:54:41.382Z - error getting comment: TypeError: Do not know how to serialize a BigInt
2024-10-28T21:54:41.382Z - attempting to get video info
2024-10-28T21:54:41.382Z - 0x078c1623e5323cBA04B40753e3178A8ab144E563
2024-10-28T21:54:41.510Z - Test Video,bZRMNrsK5sjwOhDKikGp5L-FBaPJ2vbAgltWaB_pGL0,0xD0F2dEAc2fBc1589aDAefa4E97908560010365E9,Test Description,0xba8172DcaB4A44DcE5B7bFc00236188697fe805d,0xba8172DcaB4A44DcE5B7bFc00236188697fe805d,1730152460
2024-10-28T21:54:41.510Z - Testing transfer ownership of video contract to SECOND_PRIVATE_KEY...
2024-10-28T21:54:47.800Z - Transfer to SECOND_PRIVATE_KEY successful.
2024-10-28T21:54:47.800Z - attempting to get video info again
2024-10-28T21:54:48.250Z - Test Video,bZRMNrsK5sjwOhDKikGp5L-FBaPJ2vbAgltWaB_pGL0,0xD0F2dEAc2fBc1589aDAefa4E97908560010365E9,Test Description,0xba8172DcaB4A44DcE5B7bFc00236188697fe805d,0xba8172DcaB4A44DcE5B7bFc00236188697fe805d,1730152460
2024-10-28T21:54:48.251Z - Testing transfer ownership of video contract back to original creator...
2024-10-28T21:54:48.734Z - transfer error: Error: execution reverted: "Caller is not owner nor approved" (action="estimateGas", data="0x08c379a00000000000000000000000000000000000000000000000000000000000000020000000000000000000000000000000000000000000000000000000000000002043616c6c6572206973206e6f74206f776e6572206e6f7220617070726f766564", reason="Caller is not owner nor approved", transaction={ "data": "0x3a233f89000000000000000000000000ba8172dcab4a44dce5b7bfc00236188697fe805d0000000000000000000000000000000000000000000000000000000000000000", "from": "0x6B324A1F65DEcd2aD945BAA84cA75F018Be8Cec3", "to": "0x078c1623e5323cBA04B40753e3178A8ab144E563" }, invocation=null, revert={ "args": [ "Caller is not owner nor approved" ], "name": "Error", "signature": "Error(string)" }, code=CALL_EXCEPTION, version=6.13.4)
