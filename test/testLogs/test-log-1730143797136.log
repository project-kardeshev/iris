2024-10-28T19:29:57.159Z - Testing getDeployedChannels...
2024-10-28T19:29:57.774Z - Deployed channels: 0xDcD82ac4F300155FeFABF2A328fCBbd0D1969E4e
2024-10-28T19:29:58.168Z - Channel info for 0xba8172DcaB4A44DcE5B7bFc00236188697fe805d: ["0xba8172DcaB4A44DcE5B7bFc00236188697fe805d","TestChannel","A test channel","0xDcD82ac4F300155FeFABF2A328fCBbd0D1969E4e"]
2024-10-28T19:29:58.168Z - Testing createChannelContract...
2024-10-28T19:29:58.502Z - Error creating channel: execution reverted: "Channel already exists for this wallet" (action="estimateGas", data="0x08c379a0000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000000264368616e6e656c20616c72656164792065786973747320666f7220746869732077616c6c65740000000000000000000000000000000000000000000000000000", reason="Channel already exists for this wallet", transaction={ "data": "0x83536f05000000000000000000000000000000000000000000000000000000000000006000000000000000000000000000000000000000000000000000000000000000a000000000000000000000000000000000000000000000000000000000000000e0000000000000000000000000000000000000000000000000000000000000000b546573744368616e6e656c000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000e412074657374206368616e6e656c0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000", "from": "0xba8172DcaB4A44DcE5B7bFc00236188697fe805d", "to": "0xE3A1a10c9785bC98e8cBdfde511F6b6d3F8B3585" }, invocation=null, revert={ "args": [ "Channel already exists for this wallet" ], "name": "Error", "signature": "Error(string)" }, code=CALL_EXCEPTION, version=6.13.4)
2024-10-28T19:29:58.502Z - Testing getChannelInfo after createChannelContract...
2024-10-28T19:29:58.629Z - Deployed channels: 0xDcD82ac4F300155FeFABF2A328fCBbd0D1969E4e
2024-10-28T19:29:58.785Z - Channel info for 0xDcD82ac4F300155FeFABF2A328fCBbd0D1969E4e: ["0xba8172DcaB4A44DcE5B7bFc00236188697fe805d","TestChannel","A test channel","0xDcD82ac4F300155FeFABF2A328fCBbd0D1969E4e"]
2024-10-28T19:29:58.787Z - Testing getChannelInfo on channel contract...
2024-10-28T19:29:58.942Z - Channel data: ["0xba8172DcaB4A44DcE5B7bFc00236188697fe805d","TestChannel","A test channel","","0xE3A1a10c9785bC98e8cBdfde511F6b6d3F8B3585",["0xA382E6C01Bb6e61C57216b1D5904ea1f7D6baf13","0x73575dFfFAaE7665EC6495Cde7420f5743f939e9","0x9Cf2A93194B6e94e9Dc3375d2B1377159F0cF894","0x2901DdAa376d0eBd436fb53a69A25FA7B7C3a523","0x6A83936D98B271EF14F519C98351C344428c25Af","0x43F9373942Ee35A5921D9473383871Bf6b5A7e7f","0x99331ac2b6E359d45933eb849a83aa69EAf2F27E","0x36126865534bbb333eDf479a3f4F4a8aD8b43695","0xA275C22949f2744699d521421ef5F707f9e70c8E"]]
2024-10-28T19:29:58.942Z - Testing tip from SECOND_PRIVATE_KEY...
2024-10-28T19:29:58.943Z - Testing withdraw with SECOND_PRIVATE_KEY (should fail)...
2024-10-28T19:29:59.239Z - Expected error withdrawing with second wallet: execution reverted: "Only the channel owner can withdraw funds" (action="estimateGas", data="0x08c379a0000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000000294f6e6c7920746865206368616e6e656c206f776e65722063616e2077697468647261772066756e64730000000000000000000000000000000000000000000000", reason="Only the channel owner can withdraw funds", transaction={ "data": "0x3ccfd60b", "from": "0x6B324A1F65DEcd2aD945BAA84cA75F018Be8Cec3", "to": "0xDcD82ac4F300155FeFABF2A328fCBbd0D1969E4e" }, invocation=null, revert={ "args": [ "Only the channel owner can withdraw funds" ], "name": "Error", "signature": "Error(string)" }, code=CALL_EXCEPTION, version=6.13.4)
2024-10-28T19:29:59.239Z - Testing withdraw with PRIVATE_KEY...
2024-10-28T19:29:59.239Z - Withdraw successful.
2024-10-28T19:29:59.239Z - Testing mintVideo with SECOND_PRIVATE_KEY (should fail)...
2024-10-28T19:29:59.504Z - Expected error minting video with second wallet: execution reverted: "Only the channel owner can mint videos" (action="estimateGas", data="0x08c379a0000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000000264f6e6c7920746865206368616e6e656c206f776e65722063616e206d696e7420766964656f730000000000000000000000000000000000000000000000000000", reason="Only the channel owner can mint videos", transaction={ "data": "0x0f1b9ede000000000000000000000000000000000000000000000000000000000000006000000000000000000000000000000000000000000000000000000000000000c00000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000002b5476496d384d61795561756635686533687a6951486358676e61554e6472575a792d387639797357524838000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000a5465737420566964656f00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001054657374204465736372697074696f6e00000000000000000000000000000000", "from": "0x6B324A1F65DEcd2aD945BAA84cA75F018Be8Cec3", "to": "0xDcD82ac4F300155FeFABF2A328fCBbd0D1969E4e" }, invocation=null, revert={ "args": [ "Only the channel owner can mint videos" ], "name": "Error", "signature": "Error(string)" }, code=CALL_EXCEPTION, version=6.13.4)
2024-10-28T19:29:59.504Z - Testing mintVideo with PRIVATE_KEY...
2024-10-28T19:30:05.437Z - Mint video transaction receipt: {"_type":"TransactionReceipt","blockHash":"0xd4bbbfa999ea837a8ab796d9919b63f50a4efd422bd59ce6cffc81dda2fdf8e4","blockNumber":423605,"contractAddress":null,"cumulativeGasUsed":"1955485","from":"0xba8172DcaB4A44DcE5B7bFc00236188697fe805d","gasPrice":"1000000007","blobGasUsed":null,"blobGasPrice":null,"gasUsed":"1955485","hash":"0x80b65915e6e10b88ebcf75abd6a5cea3507e388f1c37751a466334f2f3522ba2","index":0,"logs":[{"_type":"log","address":"0xDcD82ac4F300155FeFABF2A328fCBbd0D1969E4e","blockHash":"0xd4bbbfa999ea837a8ab796d9919b63f50a4efd422bd59ce6cffc81dda2fdf8e4","blockNumber":423605,"data":"0x000000000000000000000000103e9c65223f63942d7ad28a4b6df88ecdf5f0d8","index":0,"topics":["0xdc3c76afa568d5ddd01cb747eb742676f200e4d5a83c5a2a1b2c3571922ba71d"],"transactionHash":"0x80b65915e6e10b88ebcf75abd6a5cea3507e388f1c37751a466334f2f3522ba2","transactionIndex":0}],"logsBloom":"0x00000000000000000000000000000000000000000000000000000000000000000000000800000000001000000000000000000080000000000000000000000000200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000080000000000000000000000000000000000000000000000000000008000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000","status":1,"to":"0xDcD82ac4F300155FeFABF2A328fCBbd0D1969E4e"}
2024-10-28T19:30:10.740Z - Final channel info with video: ["0xba8172DcaB4A44DcE5B7bFc00236188697fe805d","TestChannel","A test channel","","0xE3A1a10c9785bC98e8cBdfde511F6b6d3F8B3585",["0xA382E6C01Bb6e61C57216b1D5904ea1f7D6baf13","0x73575dFfFAaE7665EC6495Cde7420f5743f939e9","0x9Cf2A93194B6e94e9Dc3375d2B1377159F0cF894","0x2901DdAa376d0eBd436fb53a69A25FA7B7C3a523","0x6A83936D98B271EF14F519C98351C344428c25Af","0x43F9373942Ee35A5921D9473383871Bf6b5A7e7f","0x99331ac2b6E359d45933eb849a83aa69EAf2F27E","0x36126865534bbb333eDf479a3f4F4a8aD8b43695","0xA275C22949f2744699d521421ef5F707f9e70c8E","0x103E9c65223F63942D7aD28a4b6df88ecDF5f0d8"]]
2024-10-28T19:30:10.740Z - Testing getVideo on video contract...
2024-10-28T19:30:10.889Z - Video content: 0x
2024-10-28T19:30:10.889Z - Testing like on video contract...
2024-10-28T19:30:11.407Z - error on like: Error: execution reverted: "You have already liked this video" (action="estimateGas", data="0x08c379a000000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000000000000000000000000021596f75206861766520616c7265616479206c696b6564207468697320766964656f00000000000000000000000000000000000000000000000000000000000000", reason="You have already liked this video", transaction={ "data": "0xa523b88a", "from": "0xba8172DcaB4A44DcE5B7bFc00236188697fe805d", "to": "0xA382E6C01Bb6e61C57216b1D5904ea1f7D6baf13" }, invocation=null, revert={ "args": [ "You have already liked this video" ], "name": "Error", "signature": "Error(string)" }, code=CALL_EXCEPTION, version=6.13.4)
2024-10-28T19:30:11.742Z - Expected error on second like: execution reverted: "You have already liked this video" (action="estimateGas", data="0x08c379a000000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000000000000000000000000021596f75206861766520616c7265616479206c696b6564207468697320766964656f00000000000000000000000000000000000000000000000000000000000000", reason="You have already liked this video", transaction={ "data": "0xa523b88a", "from": "0xba8172DcaB4A44DcE5B7bFc00236188697fe805d", "to": "0xA382E6C01Bb6e61C57216b1D5904ea1f7D6baf13" }, invocation=null, revert={ "args": [ "You have already liked this video" ], "name": "Error", "signature": "Error(string)" }, code=CALL_EXCEPTION, version=6.13.4)
2024-10-28T19:30:11.876Z - Number of likes: 1
2024-10-28T19:30:11.876Z - Testing leaveComment on video contract...
2024-10-28T19:30:13.145Z - Comment added successfully.
2024-10-28T19:30:13.145Z - Testing getComments on video contract...
2024-10-28T19:30:13.273Z - error getting comment: TypeError: Do not know how to serialize a BigInt
2024-10-28T19:30:13.273Z - attempting to get video info
2024-10-28T19:30:13.399Z - Test Video,TvIm8MayUauf5he3hziQHcXgnaUNdrWZy-8v9ysWRH8,0xE3A1a10c9785bC98e8cBdfde511F6b6d3F8B3585,Test Description,0xba8172DcaB4A44DcE5B7bFc00236188697fe805d,1730142247
2024-10-28T19:30:13.399Z - Testing transfer ownership of video contract to SECOND_PRIVATE_KEY...
2024-10-28T19:30:13.656Z - transfer error: Error: execution reverted: "Failed to remove video from previous channel" (action="estimateGas", data="0x08c379a00000000000000000000000000000000000000000000000000000000000000020000000000000000000000000000000000000000000000000000000000000002c4661696c656420746f2072656d6f766520766964656f2066726f6d2070726576696f7573206368616e6e656c0000000000000000000000000000000000000000", reason="Failed to remove video from previous channel", transaction={ "data": "0x3a233f890000000000000000000000006b324a1f65decd2ad945baa84ca75f018be8cec30000000000000000000000000000000000000000000000000000000000000000", "from": "0xba8172DcaB4A44DcE5B7bFc00236188697fe805d", "to": "0xA382E6C01Bb6e61C57216b1D5904ea1f7D6baf13" }, invocation=null, revert={ "args": [ "Failed to remove video from previous channel" ], "name": "Error", "signature": "Error(string)" }, code=CALL_EXCEPTION, version=6.13.4)
2024-10-28T19:30:13.657Z - attempting to get video info again
2024-10-28T19:30:13.786Z - Test Video,TvIm8MayUauf5he3hziQHcXgnaUNdrWZy-8v9ysWRH8,0xE3A1a10c9785bC98e8cBdfde511F6b6d3F8B3585,Test Description,0xba8172DcaB4A44DcE5B7bFc00236188697fe805d,1730142247
2024-10-28T19:30:13.786Z - Testing transfer ownership of video contract back to original creator...
2024-10-28T19:30:14.042Z - transfer error: Error: execution reverted: "Caller is not owner nor approved" (action="estimateGas", data="0x08c379a00000000000000000000000000000000000000000000000000000000000000020000000000000000000000000000000000000000000000000000000000000002043616c6c6572206973206e6f74206f776e6572206e6f7220617070726f766564", reason="Caller is not owner nor approved", transaction={ "data": "0x3a233f89000000000000000000000000ba8172dcab4a44dce5b7bfc00236188697fe805d0000000000000000000000000000000000000000000000000000000000000000", "from": "0x6B324A1F65DEcd2aD945BAA84cA75F018Be8Cec3", "to": "0xA382E6C01Bb6e61C57216b1D5904ea1f7D6baf13" }, invocation=null, revert={ "args": [ "Caller is not owner nor approved" ], "name": "Error", "signature": "Error(string)" }, code=CALL_EXCEPTION, version=6.13.4)
